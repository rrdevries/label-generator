:root{
  --px-per-cm: 37.7952755906;4
  --ui-radius: 12px;
  --border-1px: 1px;
  --code-border-3px: 3px;

  --preview-gap-cm: 0.5cm;    /* ruimte tussen labels in preview */
  --specs-percent: 66%;       /* breedte links-blok t.o.v. label */
  --tab-gap: 2.4em;           /* “tab” tussen label en waarde */
  --label-w: 140px;           /* vaste labelkolom; pas aan naar smaak (120-160px) */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0; font-family: Arial, Helvetica, sans-serif; line-height:1.25; color:#111;
  background:#f5f6f8;
  overflow-x:hidden; overflow-y:auto;
}

.app{
  max-width:1200px; margin:0 auto; padding:10px 16px 20px;
  display:grid; grid-template-rows:auto auto auto; gap:12px;
  min-height:calc(100vh - 48px);
}

.app-header h1{ margin:0 0 2px; font-size:1.4rem; }
.subtitle{ margin:0; color:#555; }

/* Form in kolommen met gelijke inputbreedtes (CSS Grid) */
.fields-columns{
  border:1px solid var(--bd);
  padding:10px;
  border-radius:var(--ui-radius);
  background:#fff;

  /* i.p.v. column-count ⇒ echte grid met 3 gelijke kolommen */
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px 16px; /* rij- en kolomafstand */
}

@media (max-width:1100px){
  .fields-columns{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width:720px){
  .fields-columns{ grid-template-columns: 1fr; }
}

.fields-columns legend{ padding:0 6px; color:#333; }
/* Elke rij: vaste labelkolom + 1fr inputkolom → gelijke inputbreedtes */
.field-row{
  break-inside: avoid;
  display:grid;
  grid-template-columns: var(--label-w) 1fr;  /* <<< vaste label-breedte */
  align-items:center;
  gap:6px 10px;
  width:100%;
}

/* labels op één regel, netjes afkappen indien nodig */
.field-row label{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* inputs altijd 100% van hun kolom */
.field-row input{
  width:100%;
  min-width:0;
  padding:8px 10px;
  border:1px solid #ccc;
  border-radius:8px;
  outline:none;
}
.field-row input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(42,109,244,.15);
}

/* Knoppen gecentreerd */
.actions{ display:flex; gap:10px; justify-content:center; align-items:center; padding-top:8px; }
button{ appearance:none; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; }
button.primary{ background:#2a6df4; color:#fff; }
button.secondary{ background:#0b8f4d; color:#fff; }
button:disabled{ opacity:.6; cursor:not-allowed; }

/* Preview canvas */
.canvas{ background:#fff; border:1px solid #e7e7e7; border-radius:var(--ui-radius);
  padding:2cm; display:flex; flex-direction:column; gap:16px; }

/* Controlekader */
.control-card{ border:1px solid #e5e7eb; background:#f9fafb; border-radius:10px; padding:10px 12px; font-size:.92rem; color:#333; }
.control-card h3{ margin:0 0 8px; font-size:1rem; }
.control-grid-2x2{ display:grid; grid-template-columns:1fr 1fr; gap:6px 14px; }
.control-item{
  background:#eef2f7; border:1px solid #dde3ea; border-radius:8px; padding:6px 8px;
  font-family: ui-monospace, Menlo, Consolas, "Liberation Mono", monospace;
}

/* Preview 2×2: boven (1,3), onder (2,4) */
.labels-grid{
  display:grid; grid-template-columns:auto auto; gap:var(--preview-gap-cm);
  place-content:center; place-items:center;
}

/* Label + nummer (linksonder, buiten kader) */
.label-wrap{ display:flex; flex-direction:column; align-items:flex-start; gap:6px; }
.label-num{ font-size:11px; color:#333; opacity:.85; }

/* Label kader */
.label{ border:var(--border-1px) solid #000; display:flex; background:#fff; width:100px; height:100px; }
.label-inner{
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
  gap:.9em; width:100%; height:100%; overflow:hidden; font-size:var(--fs, 14px);
}

/* Kop (gecentreerd) */
.label-head{ display:flex; flex-direction:column; align-items:center; gap:.6em; }
.code-box{ display:inline-block; border:var(--code-border-3px) solid #000; background:#fff; padding:.1em .25em; font-weight:700; line-height:1.05; }

/* Links-blok als geheel gecentreerd */
.label-leftblock{
  width: var(--specs-percent);
  margin: 0 auto;
  text-align: left;
  display: flex; flex-direction: column; gap: .6em;
}

/* Grid labels + waarden */
.specs-grid{
  display:grid; grid-template-columns:max-content 1fr; column-gap:var(--tab-gap); row-gap:.35em;
  min-width: 0;
}
.specs-grid .lab{ font-weight:700; }
.specs-grid .val{ min-width:0; }

/* Fase 1: no-wrap (voorkeur) */
.nowrap-mode .specs-grid .val{
  white-space: nowrap;
  overflow-wrap: normal;
  word-break: normal;
}
/* Fase 2: soft-wrap (alleen als font < 10px nodig is) */
.softwrap-mode .specs-grid .val{
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.cn-row{ display:flex; align-items:center; column-gap:var(--tab-gap); white-space:nowrap; }
.cn-row .lab{ font-weight:700; }
.cn-row .cn-line{ border-bottom:1.5px solid #000; height:0; flex:1 1 12em; min-width:3em; }

.line{ white-space: normal; word-break: break-word; }
.block-spacer{ height:.4em; }

/* Batch UI */
.batch-panel{
  background:var(--panel); border:1px solid var(--bd); border-radius:var(--ui-radius);
  padding:12px; display:flex; flex-direction:column; gap:12px;
}
.batch-panel h2{ margin:0; }
.upload-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.dropzone{
  display:flex; align-items:center; justify-content:center;
  min-height:56px; padding:10px 14px; border:2px dashed #cbd5e1; border-radius:12px; background:#f8fafc;
  color:#334155; cursor:pointer; flex:1;
}
.dropzone.dragover{ background:#eef2ff; border-color:#6366f1; }
.batch-actions{ display:flex; gap:8px; flex-wrap:wrap; }
.mapping.hidden, .table-wrap.hidden, .norms.hidden, .batch-controls.hidden, .progress-wrap.hidden, .log-wrap.hidden{ display:none; }
.mapping-grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:8px 16px; }
.mapping-grid .map-row{ display:grid; grid-template-columns:180px 1fr; gap:6px; align-items:center; }
.mapping-grid label{ color:#374151; }
.mapping-grid select{ padding:8px 10px; border:1px solid #cbd5e1; border-radius:8px; background:#fff; }
.table-wrap{ background:#fff; border:1px solid var(--bd); border-radius:10px; padding:8px; }
.table-scroller{ overflow:auto; max-height:260px; border-radius:8px; }
.table-scroller table{ width:100%; border-collapse:collapse; font-size:.95rem; }
.table-scroller th, .table-scroller td{ border-bottom:1px solid #eee; padding:6px 8px; white-space:nowrap; text-overflow:ellipsis; overflow:hidden; }
.table-scroller th{ background:#f8fafc; position:sticky; top:0; z-index:1; }
.norms label{ display:block; color:#374151; margin-bottom:4px; }
.batch-controls{ display:flex; gap:8px; }
.progress-wrap{ display:flex; flex-direction:column; gap:6px; }
.progress-bar{ height:10px; background:#e5e7eb; border-radius:999px; overflow:hidden; }
.progress-bar .bar{ height:100%; width:0%; background:linear-gradient(90deg, #60a5fa, #2a6df4); transition:width .2s; }
.progress-text{ display:flex; gap:10px; color:#374151; font-size:.92rem; }
.log-wrap{ background:#fff; border:1px solid var(--bd); border-radius:10px; padding:8px; }
.log-list{ font-family:ui-monospace, Menlo, Consolas, monospace; font-size:.9rem; white-space:pre-wrap; color:#111; }
.log-list .err{ color:#b91c1c; }
.log-list .ok{ color:#065f46; }

/* Footer onderaan */
.site-footer{
  display:flex; align-items:center; justify-content:center;
  padding:12px 16px; border-top:1px solid #e7e7e7; background:#fff; color:#444;
}
.site-footer small{ font-size:.85rem; }
