<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Etiketten Generator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="brand">
          <div class="brand-text">
            <h1>Etiketten Generator<span class="version-badge">v0.83</span></h1>
            <p class="subtitle">
              Vul de gegevens in en klik op
              <strong>“Genereer etiketten”</strong>. Voor PDF:
              <strong>“PDF genereren”</strong>.
            </p>
          </div>
          <a href="#" class="brand-logo-link" aria-label="LifeGoods">
            <img
              src="assets/Lifegoods-logo.png"
              alt="LifeGoods Group B.V."
              class="client-logo"
            />
          </a>
        </div>
      </header>

      <main class="app-main">
        <section class="panel">
          <h2>Gegevens</h2>

          <div class="form-grid">
            <label class="field">
              <span>ERP</span>
              <input id="erp" type="text" value="LG1000843" />
            </label>

            <label class="field">
              <span>Omschrijving</span>
              <input
                id="desc"
                type="text"
                value="Combination Lock - Orange - 1 Pack (YF20610B)"
              />
            </label>

            <label class="field">
              <span>EAN</span>
              <input id="ean" type="text" value="8719632951889" />
            </label>

            <label class="field">
              <span>QTY (PCS)</span>
              <input id="qty" type="text" value="12" />
            </label>

            <label class="field">
              <span>G.W (KGS)</span>
              <input id="gw" type="text" value="18,00" />
            </label>

            <label class="field">
              <span>CBM</span>
              <input id="cbm" type="text" value="0.02" />
            </label>

            <label class="field">
              <span>Length (L)</span>
              <input id="len" type="text" value="39" />
            </label>

            <label class="field">
              <span>Width (W)</span>
              <input id="wid" type="text" value="19,5" />
            </label>

            <label class="field">
              <span>Height (H)</span>
              <input id="hei" type="text" value="22" />
            </label>

            <label class="field">
              <span>Batch</span>
              <input id="batch" type="text" value="IOR2500307" />
            </label>
          </div>

          <div class="actions">
            <button id="btnGen" class="btn primary">Genereer etiketten</button>
            <button id="btnPDF" class="btn success">PDF genereren</button>
          </div>
        </section>

        <section class="panel panel-preview">
          <div class="calc-box">
            <h3>Berekende labelafmetingen (werkelijke cm)</h3>
            <div id="dims" class="dims-grid"></div>
          </div>

          <div id="labelsGrid" class="labels-grid"></div>
        </section>

        <section class="panel batch-panel">
          <h2>Batch (Excel / CSV)</h2>

          <div class="upload-row">
            <label class="dropzone" id="dropzone">
              <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" hidden />
              <span><strong>Bestand kiezen</strong> of sleep hierheen (xlsx, xls, csv)</span>
            </label>

            <div class="batch-actions">
              <button type="button" id="btnPickFile" class="btn">Kies bestand…</button>
              <button type="button" id="btnTemplateCsv" class="btn">Template (CSV)</button>
              <button type="button" id="btnTemplateXlsx" class="btn">Template (XLSX)</button>
            </div>
          </div>

          <div id="mappingWrap" class="mapping hidden">
            <h3>Kolommen koppelen</h3>
            <div id="mappingGrid" class="mapping-grid"></div>
            <p class="hint">Automatisch gedetecteerd. Pas aan indien nodig.</p>
          </div>

          <div id="previewWrap" class="table-wrap hidden">
            <h3>Voorbeeld (eerste 5 rijen)</h3>
            <div id="tablePreview" class="table-scroller"></div>
          </div>

          <div id="normWrap" class="norms hidden">
            <h3>Normalisatie</h3>
            <label><input type="checkbox" id="optCommaDecimal" checked /> Komma als decimaal scheidingsteken (1,25 → 1.25)</label>
            <label><input type="checkbox" id="optTrimSpaces" checked /> Spaties rondom waarden verwijderen</label>
          </div>

          <div class="batch-controls hidden" id="batchControls">
            <button type="button" id="btnRunBatch" class="btn primary">PDF’s genereren (batch)</button>
            <button type="button" id="btnAbortBatch" class="btn danger" disabled>Stoppen</button>
          </div>

          <div id="progressWrap" class="progress-wrap hidden">
            <div class="progress-bar">
              <div id="progressBar" class="bar"></div>
            </div>
            <div class="progress-text">
              <span id="progressLabel">0 / 0</span>
              <span id="progressPhase"></span>
            </div>
          </div>

          <div id="logWrap" class="log-wrap hidden">
            <h3>Log</h3>
            <div id="logList" class="log-list"></div>
          </div>
        </section>

      </main>
    </div>

    <!-- libs -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

    <script src="app.js"></script>
  </body>
</html>
